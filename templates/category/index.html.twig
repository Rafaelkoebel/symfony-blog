{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}


    <h2>Categorie : {{category.name}}</h2>
        {% for post in category.posts %}
        <!-- Post preview-->
                    <div class="post-preview">
                        <a href="{{ path('post_view', {slug: post.slug}) }}">
                            <h2 class="post-title">{{ post.title }}</h2>
                        </a>
                            <img src="{{ post.image }}" alt="" style="width: 100%">
                            <h3 class="post-subtitle">{{ post.content | u.truncate(150, '...') | raw}}</h3>
                        
                        <p class="post-meta">
                            Posté par
                            {{post.user.email}}
                           - {{post.createdAt | ago}}
                           - classé dans {{post.category.name}}
                        </p>
                    </div>
                    <!-- Divider-->
                    <hr class="my-4" />


        {% endfor %}

    {# {{dump($category->getPosts())}} #}
</div>
{% endblock %}
